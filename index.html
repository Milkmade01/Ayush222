<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ayush's Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&family=Noto+Sans+SC:wght@300;400;700&display=swap" rel="stylesheet">
    
    <!-- CDNs for Tower Builder Game & Hover Effect -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.9.1/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hover-effect/1.1.0/hover-effect.umd.js"></script>
    
    <style>
        body {
            background-color: #100a0a;
            color: #e0e0e0;
            font-family: 'Noto Sans SC', sans-serif;
            overflow: hidden; /* Prevent scrolling on body, allow scrolling on content */
        }
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        .font-zcool {
            font-family: 'ZCOOL KuaiLe', cursive;
        }
        .crt-effect::before {
            content: " ";
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            z-index: 2;
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }
        .crt-effect {
           animation: flicker 0.15s infinite;
        }
        @keyframes flicker {
            0% { opacity: 0.95; }
            5% { opacity: 0.85; }
            10% { opacity: 0.95; }
            15% { opacity: 0.98; }
            80% { opacity: 0.95; }
            100% { opacity: 1; }
        }
        
        .main-content {
          position: relative;
          z-index: 1;
          height: 100vh;
          overflow-y: auto;
          scroll-behavior: smooth;
        }

        /* Custom scrollbar */
        .main-content::-webkit-scrollbar {
            width: 8px;
        }
        .main-content::-webkit-scrollbar-track {
            background: #1a1a1a;
        }
        .main-content::-webkit-scrollbar-thumb {
            background-color: #991b1b;
            border-radius: 4px;
            border: 2px solid #1a1a1a;
        }
        
        /* Animations for Modals */
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes scale-in {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .animate-fade-in {
            animation: fade-in 0.2s ease-out forwards;
        }
        .animate-scale-in {
            animation: scale-in 0.2s ease-out forwards;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "react": "https://aistudiocdn.com/react@^19.2.0"
  }
}
</script>
</head>
<body>
    <canvas id="bg-canvas"></canvas>
    <div id="root" class="crt-effect">
        <div 
            style="
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100vh;
                background-image: url(https://i.postimg.cc/s2YST6ZH/firewatch-red-sky-3840x2160-11493.png);
                background-size: cover;
                background-position: center;
                z-index: -2;
            "
        ></div>

        <nav class="fixed top-0 left-0 right-0 bg-black/50 backdrop-blur-md z-50 border-b border-red-900/50">
            <div class="container mx-auto px-4 md:px-8 flex justify-between items-center h-20">
                <div class="text-3xl font-zcool text-white">
                    <button data-page="home" class="nav-btn">Ayush</button>
                </div>
                <div class="hidden md:flex items-baseline space-x-4">
                    <button data-page="home" class="nav-btn px-4 py-2 text-lg transition-colors duration-300 relative font-zcool tracking-wider text-red-400">
                        Home
                        <span class="nav-indicator absolute bottom-0 left-1/2 -translate-x-1/2 w-2/3 h-0.5 bg-red-400"></span>
                    </button>
                    <button data-page="games" class="nav-btn px-4 py-2 text-lg transition-colors duration-300 relative font-zcool tracking-wider text-gray-300 hover:text-white">
                        Games
                        <span class="nav-indicator absolute bottom-0 left-1/2 -translate-x-1/2 w-2/3 h-0.5 bg-red-400" style="display: none;"></span>
                    </button>
                    <button data-page="gallery" class="nav-btn px-4 py-2 text-lg transition-colors duration-300 relative font-zcool tracking-wider text-gray-300 hover:text-white">
                        Gallery
                        <span class="nav-indicator absolute bottom-0 left-1/2 -translate-x-1/2 w-2/3 h-0.5 bg-red-400" style="display: none;"></span>
                    </button>
                    <button data-page="contact" class="nav-btn px-4 py-2 text-lg transition-colors duration-300 relative font-zcool tracking-wider text-gray-300 hover:text-white">
                        Contact
                        <span class="nav-indicator absolute bottom-0 left-1/2 -translate-x-1/2 w-2/3 h-0.5 bg-red-400" style="display: none;"></span>
                    </button>
                </div>
            </div>
        </nav>

        <main class="main-content">
            <div class="container mx-auto px-4 md:px-8 py-24 md:py-32">
                
                <!-- HOME PAGE -->
                <div id="page-home">
                    <div class="space-y-16">
                        <header class="text-center flex flex-col items-center">
                             <div class="w-48 h-48 md:w-56 md:h-56 rounded-full overflow-hidden border-4 border-red-800/70 shadow-lg mb-6 transform transition-transform duration-500 hover:scale-105 shadow-red-900/40">
                                <img src="https://i.postimg.cc/wMnxDzFH/Whats-App-Image-2025-10-14-at-22-40-58-a9024be3.jpg" alt="Ayush" class="w-full h-full object-cover filter saturate-110">
                            </div>
                            <h1 class="text-6xl md:text-8xl font-zcool text-white drop-shadow-[0_0_15px_rgba(220,38,38,0.7)]">
                                Ayush
                            </h1>
                            <p class="text-red-300 text-xl mt-2 tracking-widest">
                                Student // Creator // Thinker
                            </p>
                        </header>
                        
                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                            <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>
                                    <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">About Me</h2>
                                </div>
                            </header>
                            <div class="text-lg text-gray-300 leading-relaxed space-y-4">
                                <p>
                                    My name is <span class="text-red-300 font-bold">Ayush</span>. I'm a Class 12 student at Amity, diving deep into the world of computer science. My passions lie at the intersection of <span class="text-gray-100 font-semibold">robotics, cooking, and fashion design</span>. I thrive on learning, especially when the information is accurate and precise.
                                </p>
                                <div class="mt-8 pt-6 border-t border-dashed border-red-800/50">
                                    <h3 class="text-3xl font-zcool text-red-300 mb-4">Interests & Skills</h3>
                                    <p>
                                        I'm driven by a passion for building things, experimenting with electronics, and discovering how design and technology can merge. I enjoy the hands-on process of <span class="text-gray-100 font-semibold">Arduino projects</span>, crafting circuits, and creating smart systems with real-world applications. Beyond robotics, I aspire to one day become a fashion designer, where I can blend creativity with technology.
                                    </p>
                                </div>
                            </div>
                        </section>
                        
                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                            <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 19V6.75A2.25 2.25 0 0111.25 4.5h1.5A2.25 2.25 0 0115 6.75V19m-6 0h6m-6 0H6m6 0h3m-3 0V4.5m0 14.25v-2.25m0 0a2.25 2.25 0 00-2.25-2.25H7.5A2.25 2.25 0 005.25 19v-2.25m11.25 0v-2.25a2.25 2.25 0 00-2.25-2.25h-1.5a2.25 2.25 0 00-2.25 2.25v2.25m11.25 0h-2.25"></path></svg>
                                    <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">My Projects</h2>
                                </div>
                            </header>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 transform transition-all duration-300 hover:border-red-600 hover:bg-black/60 hover:scale-[1.03] rounded-sm">
                                    <h3 class="text-2xl font-bold text-red-400 font-zcool tracking-wider">NYRS (2024-25)</h3>
                                    <p class="mt-2 text-gray-300">Grade 11th robotics competition.</p>
                                </div>
                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 transform transition-all duration-300 hover:border-red-600 hover:bg-black/60 hover:scale-[1.03] rounded-sm">
                                    <h3 class="text-2xl font-bold text-red-400 font-zcool tracking-wider">Line Following Car</h3>
                                    <p class="mt-2 text-gray-300">I built a line-following car utilizing PID control to ensure it follows lines with smooth precision and accuracy.</p>
                                </div>
                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 transform transition-all duration-300 hover:border-red-600 hover:bg-black/60 hover:scale-[1.03] rounded-sm">
                                    <h3 class="text-2xl font-bold text-red-400 font-zcool tracking-wider">All-in-One Sensor Circuit</h3>
                                    <p class="mt-2 text-gray-300">I designed a comprehensive circuit integrating various sensors. Originally, it displayed live readings on a CodePen web interface via Bluetooth, but I later transitioned to a more stable USB connection.</p>
                                    <ul class="mt-4 list-disc list-inside text-sm text-red-300/80 space-y-1">
                                        <li>FC-22 MQ2 gas sensor</li>
                                        <li>DHT11 temperature/humidity sensor</li>
                                        <li>LM393 photosensitive sensor</li>
                                        <li>Soil moisture sensor</li>
                                        <li>GY-NEO6MV2 GPS module</li>
                                        <li>Arduino Uno R3</li>
                                    </ul>
                                </div>
                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 transform transition-all duration-300 hover:border-red-600 hover:bg-black/60 hover:scale-[1.03] rounded-sm">
                                    <h3 class="text-2xl font-bold text-red-400 font-zcool tracking-wider">Ultrasonic Light Control</h3>
                                    <p class="mt-2 text-gray-300">Using parts I already had, I created a simple yet effective automated lighting system that toggles lights based on proximity detection.</p>
                                    <ul class="mt-4 list-disc list-inside text-sm text-red-300/80 space-y-1">
                                        <li>2 cork lights (4.5V each)</li>
                                        <li>Ultrasonic sensor</li>
                                        <li>Arduino Uno</li>
                                        <li>9V or 18650 batteries</li>
                                    </ul>
                                </div>
                            </div>
                        </section>

                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                            <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m5.231 13.5h-3.031a.75.75 0 01-.65-1.183l.729-1.286a.75.75 0 00-.65-1.183H8.25m5.231 13.5H12m2.469-13.5H8.25"></path></svg>
                                    <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">Mind & Musings</h2>
                                </div>
                            </header>
                            <div class="text-lg text-gray-300 leading-relaxed space-y-8">
                                <div>
                                    <h3 class="text-3xl font-zcool text-red-300 mb-2">My Philosophy</h3>
                                    <blockquote class="border-l-4 border-red-800/70 pl-4 italic text-gray-400">
                                        “I don't need to be perfect, I just need to be improving.” Perfection is an illusion, but growth is real. Every small step counts.
                                    </blockquote>
                                    <p class="mt-2">I prefer understanding over judgment and value loyalty, fairness, and direct communication.</p>
                                </div>
                                
                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 rounded-sm transition-all duration-300 hover:border-red-600 hover:scale-[1.02]">
                                    <h3 class="text-3xl font-zcool text-red-300 mb-2">Future Goals</h3>
                                    <p>I aim for a career connecting <span class="font-bold text-white">sociology, philosophy, and psychology</span>, focusing on social causes. I'm looking for something meaningful but also high-paying, ideally in the EU or USA, possibly as a fashion designer or a social worker.</p>
                                </div>

                                <div class="bg-black/40 backdrop-blur-sm border border-red-800/50 p-6 rounded-sm transition-all duration-300 hover:border-red-600 hover:scale-[1.02]">
                                    <h3 class="text-3xl font-zcool text-red-300 mb-4">What I Watch</h3>
                                    <div class="space-y-6">
                                        <div>
                                            <h4 class="text-xl font-bold text-gray-300 mb-3">Netflix</h4>
                                            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                                                <div class="relative group aspect-[2/3] overflow-hidden rounded-sm border-2 border-transparent hover:border-red-500 transition-all duration-300">
                                                    <img src="https://i.postimg.cc/QCfcp0yQ/modern-family-description-image.webp" alt="Modern Family" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                                    <p class="absolute bottom-2 left-2 text-white font-bold text-sm drop-shadow-md">Modern Family</p>
                                                </div>
                                                <div class="relative group aspect-[2/3] overflow-hidden rounded-sm border-2 border-transparent hover:border-red-500 transition-all duration-300">
                                                    <img src="https://i.postimg.cc/1tHFQvPv/MV5-BNzdh-OGVj-MTQt-OTQ0-Yi00-ZWNj-LTk2-Mj-Mt-MWMz-ODcz-NWNi-Nm-M3-Xk-Ey-Xk-Fqc-Gc-V1-FMjpg-UX1000.jpg" alt="Never Have I Ever" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                                    <p class="absolute bottom-2 left-2 text-white font-bold text-sm drop-shadow-md">Never Have I Ever</p>
                                                </div>
                                                <div class="relative group aspect-[2/3] overflow-hidden rounded-sm border-2 border-transparent hover:border-red-500 transition-all duration-300">
                                                    <img src="https://i.postimg.cc/1z0nGvgR/lucifer.png" alt="Lucifer" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                                    <p class="absolute bottom-2 left-2 text-white font-bold text-sm drop-shadow-md">Lucifer</p>
                                                </div>
                                            </div>
                                        </div>
                                         <div>
                                            <h4 class="text-xl font-bold text-gray-300 mb-3">Hulu</h4>
                                            <div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
                                                <div class="relative group aspect-[2/3] overflow-hidden rounded-sm border-2 border-transparent hover:border-red-500 transition-all duration-300">
                                                    <img src="https://i.postimg.cc/bNGZCyGT/MV5-BMDk4-NDRk-MWMt-ZTYy-Ny00-NDAw-LWE5-OTIt-Zm-My-MTQ3-ZTQ3-Zj-M4-Xk-Ey-Xk-Fqc-Gc-V1.jpg" alt="911" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                                    <p class="absolute bottom-2 left-2 text-white font-bold text-sm drop-shadow-md">911</p>
                                                </div>
                                                <div class="relative group aspect-[2/3] overflow-hidden rounded-sm border-2 border-transparent hover:border-red-500 transition-all duration-300">
                                                    <img src="https://i.postimg.cc/d1H06pwH/MV5-BYWE4-OTJh-MDQt-Yz-A0-Yi00-Zm-Zj-LTll-ZTIt-MWNk-YTgw-NTBl-MGJj-Xk-Ey-Xk-Fqc-Gc-V1-FMjpg-UX1000.jpg" alt="Doctor Odyssey" class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-110">
                                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
                                                    <p class="absolute bottom-2 left-2 text-white font-bold text-sm drop-shadow-md">Doctor Odyssey</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                <!-- GAMES PAGE -->
                <div id="page-games" style="display: none;">
                     <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                        <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                            <div class="flex items-center gap-4">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"></path></svg>
                                <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">Pagoda Builder</h2>
                            </div>
                        </header>
                        <p class="mb-4 text-center">Click to stack the pagoda blocks. How high can you build under the crimson moon?</p>
                        <div class="bg-black/50 p-4 rounded-sm flex flex-col items-center relative">
                             <div class="absolute top-4 right-4 flex items-center gap-4 z-10">
                                <button id="tower-game-restart-btn" class="p-2 bg-red-800/70 rounded-full hover:bg-red-700 transition-colors">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5M20 20v-5h-5"></path><path stroke-linecap="round" stroke-linejoin="round" d="M20 4L9 15M4 20l11-11"></path></svg>
                                </button>
                            </div>
                             <div class="text-xl font-zcool mb-2 text-center absolute top-4 left-1/2 -translate-x-1/2 z-10">
                                <span class="text-gray-400">High Score: <span id="tower-high-score">0</span></span>
                                <span class="mx-4">|</span>
                                <span class="text-white text-3xl">Score: <span id="tower-score">0</span></span>
                            </div>
                            <div id="tower-game-container" class="relative w-full h-[500px] cursor-pointer">
                            </div>
                        </div>
                    </section>
                </div>

                <!-- GALLERY PAGE -->
                <div id="page-gallery" style="display: none;">
                    <div class="space-y-16">
                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                            <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"></path></svg>
                                    <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">Key Info</h2>
                                </div>
                            </header>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="bg-black/20 p-4 border-l-4 border-red-800/70 rounded-r-sm">
                                    <p class="font-semibold text-red-300 text-lg">Best Friend:</p>
                                    <p class="text-gray-200 text-xl tracking-wide">Adiya Dubey</p>
                                </div>
                                <div class="bg-black/20 p-4 border-l-4 border-red-800/70 rounded-r-sm">
                                    <p class="font-semibold text-red-300 text-lg">Favorite Actors:</p>
                                    <p class="text-gray-200 text-xl tracking-wide">Awkwafina &amp; Kevin Hart</p>
                                </div>
                                <div class="bg-black/20 p-4 border-l-4 border-red-800/70 rounded-r-sm">
                                    <p class="font-semibold text-red-300 text-lg">Contact:</p>
                                    <p class="text-gray-200 text-xl tracking-wide">9555548849</p>
                                </div>
                                <div class="bg-black/20 p-4 border-l-4 border-red-800/70 rounded-r-sm">
                                    <p class="font-semibold text-red-300 text-lg">School:</p>
                                    <p class="text-gray-200 text-xl tracking-wide">Amity</p>
                                </div>
                                <div class="bg-black/20 p-4 border-l-4 border-red-800/70 rounded-r-sm">
                                    <p class="font-semibold text-red-300 text-lg">Class:</p>
                                    <p class="text-gray-200 text-xl tracking-wide">12th Grade</p>
                                </div>
                            </div>
                        </section>

                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm mb-16 transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                            <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 md:h-10 md:w-10 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.776 48.776 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"></path></svg>
                                    <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">Photo Gallery</h2>
                                </div>
                            </header>
                            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4">
                                <div class="gallery-photo-container relative group aspect-square overflow-hidden rounded-sm border-2 border-red-900/50 hover:border-red-600 transition-all cursor-pointer">
                                    <img src="https://i.postimg.cc/qB8z3b36/Whats-App-Image-2025-10-16-at-00-25-50-a9108a3b.jpg" alt="Photo of Ayush" class="w-full h-full object-cover opacity-0">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                                    <p class="absolute bottom-1 left-2 text-white font-semibold text-xs drop-shadow-md pointer-events-none">Ayush</p>
                                </div>
                                <div class="gallery-photo-container relative group aspect-square overflow-hidden rounded-sm border-2 border-red-900/50 hover:border-red-600 transition-all cursor-pointer">
                                    <img src="https://i.postimg.cc/TY6TvTh1/IMG-20250110-WA0006.jpg" alt="Photo of Adiya Dubey" class="w-full h-full object-cover opacity-0">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                                    <p class="absolute bottom-1 left-2 text-white font-semibold text-xs drop-shadow-md pointer-events-none">Adiya Dubey</p>
                                </div>
                                <div class="gallery-photo-container relative group aspect-square overflow-hidden rounded-sm border-2 border-red-900/50 hover:border-red-600 transition-all cursor-pointer">
                                    <img src="https://i.postimg.cc/FKL9Qzb3/Whats-App-Image-2025-10-16-at-00-26-18-830dff73.jpg" alt="Photo of Ayush and Aditya" class="w-full h-full object-cover opacity-0">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                                    <p class="absolute bottom-1 left-2 text-white font-semibold text-xs drop-shadow-md pointer-events-none">Ayush & Aditya</p>
                                </div>
                                <div class="gallery-photo-container relative group aspect-square overflow-hidden rounded-sm border-2 border-red-900/50 hover:border-red-600 transition-all cursor-pointer">
                                    <img src="https://i.postimg.cc/jSnc6YQg/licensed-image.jpg" alt="Photo of Kevin Hart" class="w-full h-full object-cover opacity-0">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                                    <p class="absolute bottom-1 left-2 text-white font-semibold text-xs drop-shadow-md pointer-events-none">Kevin Hart</p>
                                </div>
                                <div class="gallery-photo-container relative group aspect-square overflow-hidden rounded-sm border-2 border-red-900/50 hover:border-red-600 transition-all cursor-pointer">
                                    <img src="https://i.postimg.cc/VvNBdxkk/900111-v9-bb.jpg" alt="Photo of Awkwafina" class="w-full h-full object-cover opacity-0">
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"></div>
                                    <p class="absolute bottom-1 left-2 text-white font-semibold text-xs drop-shadow-md pointer-events-none">Awkwafina</p>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>

                <!-- CONTACT PAGE -->
                <div id="page-contact" style="display: none;">
                    <div class="max-w-4xl mx-auto">
                        <section class="bg-black/30 backdrop-blur-sm border border-red-900/40 p-6 md:p-8 shadow-lg shadow-red-900/20 rounded-sm transition-all duration-300 hover:border-red-900/60 hover:shadow-red-900/30">
                           <header class="flex items-center justify-between gap-4 mb-6 border-b border-dashed border-red-800/50 pb-4">
                                <div class="flex items-center gap-4">
                                     <h2 class="text-4xl md:text-5xl font-zcool text-red-400 tracking-wider">Get In Touch</h2>
                                 </div>
                            </header>
                            <div class="text-center">
                                <p class="text-lg mb-8">
                                    Interested in collaborating or learning more about my projects? Feel free to reach out!
                                </p>
                                <div class="flex justify-center space-x-8">
                                    <a href="https://www.linkedin.com/in/ayush-1bb00731/" target="_blank" rel="noopener noreferrer" class="text-red-300 hover:text-white transition-colors flex flex-col items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-400" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg>
                                        <span>LinkedIn</span>
                                    </a>
                                    <button id="email-modal-btn" class="text-red-300 hover:text-white transition-colors flex flex-col items-center gap-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-red-400" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"></path></svg>
                                        <span>Email</span>
                                    </button>
                                </div>
                            </div>
                        </section>
                         <footer class="text-center p-8 mt-16 border-t border-dashed border-red-800/30">
                            <p class="text-sm text-gray-500">
                                © 2024 Ayush. All rights reserved. | nysora.online
                                <br />
                                Crafted with code under the light of a crimson moon.
                            </p>
                        </footer>
                    </div>
                </div>

            </div>
        </main>
        
        <!-- Email Modal -->
        <div id="email-modal" style="display: none;" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fade-in">
            <div class="bg-black/80 border border-red-800/60 p-8 rounded-sm shadow-2xl shadow-red-900/40 relative animate-scale-in max-w-md w-full mx-4">
                <button id="email-modal-close-btn" class="absolute top-2 right-2 p-1 text-gray-400 hover:text-white transition-colors rounded-full">
                     <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
                <h3 class="text-3xl font-zcool text-red-400 text-center mb-4">My Email</h3>
                <p class="text-center text-gray-300 mb-6">You can copy my email address below.</p>
                <div class="flex items-center bg-black/50 border border-red-900/50 p-3 rounded-sm">
                    <input readonly value="ayush.2008.personal@outlook.com" class="flex-grow bg-transparent text-white truncate outline-none">
                    <button id="email-copy-btn" class="ml-4 px-4 py-1 bg-red-800 text-white font-bold text-sm hover:bg-red-700 transition-colors rounded-sm w-20">
                        Copy
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- Image Lightbox Modal -->
    <div id="image-lightbox" style="display: none;" class="fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-[100] animate-fade-in p-4">
        <div class="relative max-w-4xl max-h-[90vh] w-full h-full animate-scale-in">
            <button id="image-lightbox-close-btn" class="absolute -top-2 -right-2 md:top-2 md:right-2 z-10 p-2 bg-black/50 text-white rounded-full hover:bg-red-800 transition-colors">
                 <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <img id="lightbox-image" src="" alt="Maximized view" class="w-full h-full object-contain">
        </div>
    </div>

    <script type="module">
        document.addEventListener('DOMContentLoaded', () => {
            // --- NAVIGATION LOGIC ---
            const navButtons = document.querySelectorAll('.nav-btn');
            const pages = {
                home: document.getElementById('page-home'),
                games: document.getElementById('page-games'),
                gallery: document.getElementById('page-gallery'),
                contact: document.getElementById('page-contact'),
            };

            const showPage = (pageName) => {
                Object.values(pages).forEach(page => {
                    if (page) page.style.display = 'none';
                });
                if (pages[pageName]) {
                    pages[pageName].style.display = 'block';
                    document.querySelector('.main-content').scrollTop = 0; // Scroll to top
                }
                
                navButtons.forEach(btn => {
                    const indicator = btn.querySelector('.nav-indicator');
                    if (btn.dataset.page === pageName) {
                        btn.classList.add('text-red-400');
                        btn.classList.remove('text-gray-300', 'hover:text-white');
                        if (indicator) indicator.style.display = 'block';
                    } else {
                        btn.classList.remove('text-red-400');
                        btn.classList.add('text-gray-300', 'hover:text-white');
                        if (indicator) indicator.style.display = 'none';
                    }
                });
            };

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const pageName = button.dataset.page;
                    showPage(pageName);
                });
            });

            // --- BACKGROUND EFFECTS ---
            const canvas = document.getElementById('bg-canvas');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                let mouse = { x: canvas.width / 2, y: canvas.height / 2 };

                window.addEventListener('mousemove', (e) => {
                    mouse.x = e.clientX;
                    mouse.y = e.clientY;
                });
                window.addEventListener('resize', () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                });

                class Particle {
                    constructor() {
                        this.x = Math.random() * canvas.width;
                        this.y = Math.random() * canvas.height;
                        this.baseRadius = Math.random() * 2 + 1;
                        this.radius = this.baseRadius;
                        this.speedY = Math.random() * 0.5 + 0.1;
                        this.speedX = (Math.random() - 0.5) * 0.5;
                        this.color = `rgba(220, 38, 38, ${Math.random() * 0.5 + 0.2})`;
                        this.life = Math.random() * 200 + 100;
                        this.remainingLife = this.life;
                    }
                    update() {
                        this.remainingLife--;
                        this.y += this.speedY;
                        this.x += this.speedX;

                        const dx = this.x - mouse.x;
                        const dy = this.y - mouse.y;
                        const distance = Math.sqrt(dx * dx + dy * dy);
                        const forceDirectionX = dx / distance;
                        const forceDirectionY = dy / distance;
                        const maxDistance = 100;
                        const force = (maxDistance - distance) / maxDistance;
                        
                        if (distance < maxDistance) {
                            this.x += forceDirectionX * force * 2.5;
                            this.y += forceDirectionY * force * 2.5;
                            this.radius = this.baseRadius + force * 5;
                        } else if (this.radius > this.baseRadius) {
                           this.radius -= 0.1;
                        }
                        
                        if (this.y > canvas.height || this.remainingLife <= 0) {
                            this.y = -this.radius;
                            this.x = Math.random() * canvas.width;
                            this.remainingLife = this.life;
                            this.radius = this.baseRadius;
                        }
                    }
                    draw() {
                        if (!ctx) return;
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                        ctx.fillStyle = this.color;
                        ctx.globalAlpha = this.remainingLife / this.life;
                        ctx.fill();
                    }
                }
                const particles = [];
                for (let i = 0; i < 150; i++) particles.push(new Particle());
                
                const animate = () => {
                    if (!ctx) return;
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.globalAlpha = 1;
                    particles.forEach(p => {
                        p.update();
                        p.draw();
                    });
                    requestAnimationFrame(animate);
                };
                animate();
            }

            // --- GALLERY INTERACTIVITY ---
            const galleryPhotos = document.querySelectorAll('.gallery-photo-container');
            const lightbox = document.getElementById('image-lightbox');
            const lightboxImage = document.getElementById('lightbox-image');
            const lightboxClose = document.getElementById('image-lightbox-close-btn');

            if (typeof hoverEffect !== 'undefined') {
                galleryPhotos.forEach(container => {
                    const img = container.querySelector('img');
                    if (img) {
                        new hoverEffect({
                            parent: container,
                            intensity: 0.4,
                            image1: img.src,
                            image2: img.src,
                            displacementImage: 'https://cdn.jsdelivr.net/gh/robin-dela/hover-effect@master/images/fluid.jpg',
                            imagesRatio: 1
                        });
                    }
                });
            }

            const openLightbox = (src) => {
                if (lightbox && lightboxImage) {
                    lightboxImage.src = src;
                    lightbox.style.display = 'flex';
                }
            }
            const closeLightbox = () => {
                if (lightbox) lightbox.style.display = 'none';
            }
            
            galleryPhotos.forEach(container => {
                container.addEventListener('click', () => {
                    const img = container.querySelector('img');
                    if (img) openLightbox(img.src);
                });
            });

            if (lightbox) lightbox.addEventListener('click', closeLightbox);
            if (lightboxClose) lightboxClose.addEventListener('click', (e) => {
                e.stopPropagation();
                closeLightbox();
            });

            // --- CONTACT MODAL LOGIC ---
            const emailModalBtn = document.getElementById('email-modal-btn');
            const emailModal = document.getElementById('email-modal');
            const emailModalCloseBtn = document.getElementById('email-modal-close-btn');
            const emailCopyBtn = document.getElementById('email-copy-btn');
            
            const showEmailModal = () => emailModal.style.display = 'flex';
            const hideEmailModal = () => emailModal.style.display = 'none';

            emailModalBtn.addEventListener('click', showEmailModal);
            emailModalCloseBtn.addEventListener('click', hideEmailModal);
            emailModal.addEventListener('click', hideEmailModal);
            emailModal.querySelector('div').addEventListener('click', (e) => e.stopPropagation());

            emailCopyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText("ayush.2008.personal@outlook.com").then(() => {
                    emailCopyBtn.textContent = 'Copied!';
                    setTimeout(() => { emailCopyBtn.textContent = 'Copy'; }, 2000);
                });
            });

            // --- TOWER BUILDER GAME ---
            const gameContainer = document.getElementById('tower-game-container');
            const scoreElement = document.getElementById('tower-score');
            const highScoreElement = document.getElementById('tower-high-score');
            const restartBtn = document.getElementById('tower-game-restart-btn');
            let gameInstance = null;
            
            if (gameContainer && typeof THREE !== 'undefined' && typeof TweenLite !== 'undefined') {
                 class Stage {
                    constructor(container) {
                        this.container = container;
                        this.renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
                        this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);
                        this.renderer.setClearColor(0x000000, 0);
                        this.container.appendChild(this.renderer.domElement);
                        this.scene = new THREE.Scene();
                        let aspect = this.container.clientWidth / this.container.clientHeight; let d = 20;
                        this.camera = new THREE.OrthographicCamera(-d * aspect, d * aspect, d, -d, -100, 1000);
                        this.camera.position.set(2, 2, 2);
                        this.camera.lookAt(new THREE.Vector3(0, 0, 0));
                        this.light = new THREE.DirectionalLight(0xffffff, 0.6);
                        this.light.position.set(0, 499, 0);
                        this.scene.add(this.light);
                        this.scene.add(new THREE.AmbientLight(0x991b1b, 0.5));
                        window.addEventListener('resize', () => this.onResize());
                        this.onResize();
                    }
                    setCamera(y, speed = 0.3) {
                        TweenLite.to(this.camera.position, speed, { y: y + 4, ease: Power1.easeInOut });
                        TweenLite.to(this.camera.lookAt, speed, { y: y, ease: Power1.easeInOut });
                    }
                    onResize() {
                        let viewSize = 30;
                        if (!this.container) return;
                        this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);
                        this.camera.left = this.container.clientWidth / -viewSize;
                        this.camera.right = this.container.clientWidth / viewSize;
                        this.camera.top = this.container.clientHeight / viewSize;
                        this.camera.bottom = this.container.clientHeight / -viewSize;
                        this.camera.updateProjectionMatrix();
                    }
                    render = () => { this.renderer.render(this.scene, this.camera); }
                    add = (elem) => { this.scene.add(elem); }
                    remove = (elem) => { this.scene.remove(elem); }
                }

                class Block {
                    constructor(block, texture) {
                        this.STATES = { ACTIVE: 'active', STOPPED: 'stopped', MISSED: 'missed' };
                        this.MOVE_AMOUNT = 12;
                        this.targetBlock = block;
                        this.index = (this.targetBlock ? this.targetBlock.index : 0) + 1;
                        this.workingPlane = this.index % 2 ? 'x' : 'z';
                        this.workingDimension = this.index % 2 ? 'width' : 'depth';
                        this.dimension = {
                            width: this.targetBlock ? this.targetBlock.dimension.width : 10,
                            height: this.targetBlock ? this.targetBlock.dimension.height : 2,
                            depth: this.targetBlock ? this.targetBlock.dimension.depth : 10
                        };
                        this.position = {
                            x: this.targetBlock ? this.targetBlock.position.x : 0,
                            y: this.dimension.height * this.index,
                            z: this.targetBlock ? this.targetBlock.position.z : 0
                        };
                        const colorVal = 0.4 + (this.index % 10) * 0.06;
                        this.color = new THREE.Color(colorVal, colorVal * 0.2, colorVal * 0.2);
                        this.state = this.index > 1 ? this.STATES.ACTIVE : this.STATES.STOPPED;
                        this.speed = -0.1 - (this.index * 0.005);
                        if (this.speed < -4) this.speed = -4;
                        this.direction = this.speed;
                        let geometry = new THREE.BoxGeometry(this.dimension.width, this.dimension.height, this.dimension.depth);
                        geometry.applyMatrix4(new THREE.Matrix4().makeTranslation(this.dimension.width / 2, this.dimension.height / 2, this.dimension.depth / 2));
                        this.material = new THREE.MeshPhongMaterial({ color: this.color, map: texture });
                        this.mesh = new THREE.Mesh(geometry, this.material);
                        this.mesh.position.set(this.position.x, this.position.y, this.position.z);
                        if (this.state == this.STATES.ACTIVE) this.position[this.workingPlane] = Math.random() > 0.5 ? -this.MOVE_AMOUNT : this.MOVE_AMOUNT;
                    }
                    reverseDirection = () => { this.direction = this.direction > 0 ? this.speed : Math.abs(this.speed); }
                    place = () => {
                        this.state = this.STATES.STOPPED;
                        let overlap = this.targetBlock.dimension[this.workingDimension] - Math.abs(this.position[this.workingPlane] - this.targetBlock.position[this.workingPlane]);
                        let blocksToReturn = { plane: this.workingPlane, direction: this.direction };
                        if (this.dimension[this.workingDimension] - overlap < 0.3) {
                            overlap = this.dimension[this.workingDimension];
                            blocksToReturn.bonus = true;
                            this.position.x = this.targetBlock.position.x;
                            this.position.z = this.targetBlock.position.z;
                            this.dimension.width = this.targetBlock.dimension.width;
                            this.dimension.depth = this.targetBlock.dimension.depth;
                        }
                        if (overlap > 0) {
                            let choppedDimensions = { ...this.dimension };
                            choppedDimensions[this.workingDimension] -= overlap;
                            this.dimension[this.workingDimension] = overlap;
                            let placedGeometry = new THREE.BoxGeometry(this.dimension.width, this.dimension.height, this.dimension.depth);
                            placedGeometry.applyMatrix4(new THREE.Matrix4().makeTranslation(this.dimension.width / 2, this.dimension.height / 2, this.dimension.depth / 2));
                            let placedMesh = new THREE.Mesh(placedGeometry, this.material);
                            let choppedGeometry = new THREE.BoxGeometry(choppedDimensions.width, choppedDimensions.height, choppedDimensions.depth);
                            choppedGeometry.applyMatrix4(new THREE.Matrix4().makeTranslation(choppedDimensions.width / 2, choppedDimensions.height / 2, choppedDimensions.depth / 2));
                            let choppedMesh = new THREE.Mesh(choppedGeometry, this.material);
                            let choppedPosition = { ...this.position };
                            if (this.position[this.workingPlane] < this.targetBlock.position[this.workingPlane]) this.position[this.workingPlane] = this.targetBlock.position[this.workingPlane];
                            else choppedPosition[this.workingPlane] += overlap;
                            placedMesh.position.set(this.position.x, this.position.y, this.position.z);
                            choppedMesh.position.set(choppedPosition.x, choppedPosition.y, choppedPosition.z);
                            blocksToReturn.placed = placedMesh;
                            if (!blocksToReturn.bonus) blocksToReturn.chopped = choppedMesh;
                        } else this.state = this.STATES.MISSED;
                        this.dimension[this.workingDimension] = overlap; return blocksToReturn;
                    }
                    tick = () => {
                        if (this.state == this.STATES.ACTIVE) {
                            let value = this.position[this.workingPlane];
                            if (value > this.MOVE_AMOUNT || value < -this.MOVE_AMOUNT) this.reverseDirection();
                            this.position[this.workingPlane] += this.direction;
                            this.mesh.position[this.workingPlane] = this.position[this.workingPlane];
                        }
                    }
                }
                
                class Game {
                    constructor(container, scoreEl, highScoreEl) {
                        this.STATES = { 'LOADING': 'loading', 'PLAYING': 'playing', 'READY': 'ready', 'ENDED': 'ended' };
                        this.blocks = []; this.state = this.STATES.LOADING;
                        this.mainContainer = container;
                        this.scoreEl = scoreEl; this.highScoreEl = highScoreEl;
                        this.stage = new Stage(this.mainContainer);
                        this.newBlocks = new THREE.Group(); this.placedBlocks = new THREE.Group(); this.choppedBlocks = new THREE.Group();
                        this.stage.add(this.newBlocks); this.stage.add(this.placedBlocks); this.stage.add(this.choppedBlocks);
                        this.texture = new THREE.TextureLoader().load('https://i.postimg.cc/wMnxDzFH/Whats-App-Image-2025-10-14-at-22-40-58-a9024be3.jpg');
                        this.highScoreEl.textContent = localStorage.getItem('towerBuilderHighScore') || '0';
                        this.addBlock();
                        this.tick();
                        this.updateState(this.STATES.READY);
                        this.mainContainer.addEventListener('click', () => this.onAction());
                    }
                    updateState(newState) { this.state = newState; }
                    onAction() {
                        if(this.state === this.STATES.READY) this.startGame();
                        else if (this.state === this.STATES.PLAYING) this.placeBlock();
                        else if (this.state === this.STATES.ENDED) this.restartGame();
                    }
                    startGame() { if (this.state !== this.STATES.PLAYING) { this.updateState(this.STATES.PLAYING); this.addBlock(); } }
                    restartGame = () => {
                        this.blocks.forEach(b => { if(b.mesh) { this.newBlocks.remove(b.mesh); this.placedBlocks.remove(b.mesh); }});
                        this.blocks = []; this.placedBlocks.children = []; this.newBlocks.children = [];
                        this.scoreEl.textContent = '0';
                        this.addBlock(); this.stage.setCamera(2, 0.3);
                        this.updateState(this.STATES.READY);
                    }
                    placeBlock() {
                        let currentBlock = this.blocks[this.blocks.length - 1];
                        let newBlocks = currentBlock.place();
                        this.newBlocks.remove(currentBlock.mesh);
                        if (newBlocks.placed) this.placedBlocks.add(newBlocks.placed);
                        if (newBlocks.chopped) {
                            this.choppedBlocks.add(newBlocks.chopped);
                            TweenLite.to(newBlocks.chopped.position, 1, { y: '-=30', ease: Power1.easeIn, onComplete: () => this.choppedBlocks.remove(newBlocks.chopped) });
                        }
                        this.addBlock();
                    }
                    addBlock() {
                        let lastBlock = this.blocks[this.blocks.length - 1];
                        if (lastBlock && lastBlock.state === lastBlock.STATES.MISSED) return this.endGame();
                        this.scoreEl.textContent = this.blocks.length - 1;
                        let newKidOnTheBlock = new Block(lastBlock, this.texture);
                        this.newBlocks.add(newKidOnTheBlock.mesh);
                        this.blocks.push(newKidOnTheBlock);
                        this.stage.setCamera(this.blocks.length * 2);
                    }
                    endGame() {
                        this.updateState(this.STATES.ENDED);
                        const finalScore = this.blocks.length - 2;
                        const storedHighScore = parseInt(localStorage.getItem('towerBuilderHighScore') || '0', 10);
                        if(finalScore > storedHighScore) {
                            this.highScoreEl.textContent = finalScore;
                            localStorage.setItem('towerBuilderHighScore', finalScore.toString());
                        }
                    }
                    tick = () => {
                        if (this.blocks.length > 0) this.blocks[this.blocks.length - 1].tick();
                        this.stage.render();
                        requestAnimationFrame(this.tick);
                    }
                }
                
                gameInstance = new Game(gameContainer, scoreElement, highScoreElement);
                restartBtn.addEventListener('click', () => gameInstance.restartGame());
            }

        });
    </script>
</body>
</html>